<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="chartjs/Chart.min.js"></script>
    <script type="text/javascript" src="javascript/descritivas.js" ></script>
    <script type="text/javascript" src="javascript/probabilidades.js" ></script>
    <script type="text/javascript" src="javascript/correlacao_regressao.js" ></script>
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <script type="text/javascript">
        //Descritivas
        //var dados = "5;6;5;4;1;5;2;5;2";
        //var dados = "0;0;0;0;1;0;0;1;1;0;1;1;1;1"
        //var dados = "bom;medio;ruim;medio;bom;medio;ruim;ruim"
        var dados = "142;157;150;158;156;159;160;157;160;158;156;148;156;147;151;154;149;159;148;150;161;153;144;154;145;152;154;152;153;154;149;155;152;160;154;157;156;155;156;143;155;161;162;155;159;153;145;149;152;157";
        var tipoVar = "CNT";   //DSC ; CNT ; ORD; NML
        var tipoPesq = "POP";  // AMS ; POP
        var nomeVar;
        var nomeFi;
        var ordem = ["bom","medio","ruim"];
        var tipoSeparatriz; // Q;K;D;P
        var valorSeparatriz;
        var matriz;
        var medEst;
        var respostaSep;



        function scrollTop() {
            window.scrollTo(0, 0);
        }

        function mostrarDiv(esconde,mostra){
            document.getElementById(esconde).style.display = "none";
            document.getElementById(mostra).style.display = "block";
            scrollTop();
        }

        function clickDescritivas(){
            mostrarDiv("inicial","entrada")
        }

        function clickModelagem(){
            mostrarDiv("inicial","modelagem")
        }

        function habilitarOrdem() {
            document.getElementById("txtOrdem").disabled = false;
        }

        function desabilitarOrdem() {
            document.getElementById("txtOrdem").disabled = true;
        }

        function clickQuartil(){
            var label = document.getElementById('labelRange');
            var range = document.getElementById("rangeSepa");
            range.step = 25;
            range.value = 0;
            label.innerHTML = "Q0";
        }

        function clickQuintil(){
            var label = document.getElementById('labelRange');
            var range = document.getElementById("rangeSepa");
            range.step = 20;
            range.value = 0;
            label.innerHTML = "K0";
        }

        function clickDecil(){
            var label = document.getElementById('labelRange');
            var range = document.getElementById("rangeSepa");
            range.step = 10;
            range.value = 0;
            label.innerHTML = "D0";
        }

        function clickPorcentil(){
            var label = document.getElementById('labelRange');
            var range = document.getElementById("rangeSepa");
            range.step = 1;
            range.value = 0;
            label.innerHTML = "P0";
        }

        function changeSlider(){
            var form = document.getElementById("formulario");
            var range = form.rangeSepa;
            var sel = form.selSepa;
            var label = document.getElementById('labelRange');
            var num;

            if (sel.value == "Q") {
                num = 4;
            }else if (sel.value == "K") {
                num = 5;
            }else if (sel.value == "D") {
                num = 10;
            }else if (sel.value == "P") {
                num = 100;
            }
            label.innerHTML = sel.value + ((num * range.value)/100);
        }

        function checarVariavel(){
            if (tipoVar == "DSC") {
                if (matriz[0].length == 2) {
                    document.getElementById("labelTipoDist").innerHTML= "Distribuição Binomial"
                    document.getElementById("calcDist").disabled = false;
                    document.getElementById('dBinomial').style = "display: block;"
                } else {
                    document.getElementById("labelTipoDist").innerHTML= "Não há como calcular nenhum tipo de Distribuição.";
                }

            }else if (tipoVar == "CNT") {
                document.getElementById('dSelDist').style = "display: block;"
            }
        }

        function clickNormal(){
            mostrarDiv('dUniforme','dNormal');
            document.getElementById("calcDist").disabled = false;
            limparSaida();
        }

        function clickUniforme(){
            mostrarDiv('dNormal','dUniforme');
            document.getElementById("calcDist").disabled = false;
            limparSaida();
        }

    </script>
    <title>Página html</title>
</head>
<body>
    <nav class="navbar navbar-expand-sm navbar-dark bg-dark">
        <a class="navbar-brand" href="#">Nome do Sistema</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExample03" aria-controls="navbarsExample03" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarsExample03">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item active">
                    <a class="nav-link" href="#">Página Inicial <span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Sobre</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Contato</a>
                </li>
            </ul>
        </div>
    </nav>

    <div class="container" style= "margin-top: 30px" >
        <div class="row">
            <div class="col-sm-2"></div>
            <div class="col-sm-8" >
                <div id="inicial" >
                    <h1>Seja Bem Vindo Ao Sistema de Análise Estatística</h1>
                    <h4>Escolha uma das opções abaixo:</h4>
                    <div style= "margin-top: 80px">
                        <button type="button" class="btn btn-dark btn-block" onclick="clickDescritivas()">Descritivas e Probabilidades</button>
                        <button type="button" class="btn btn-dark btn-block" onclick="clickModelagem()" >Correlação e Regressão</button>
                    </div>
                </div>

                <div id="modelagem" style= "display:none;">
                    <div id="entradaCorrRegr">
                        <form class="">
                            <div class="form-group">
                                <label class="control-label" for="txtX">X</label>
                                <input type="text" class="form-control" name="txtX" id="txtX" placeholder="Use ; para separar os dados.">
                            </div>
                            <div class="form-group">
                                <label class="control-label" for="txtY">Y</label>
                                <input type="text" class="form-control" name="txtY" id="txtY" placeholder="Use ; para separar os dados.">
                            </div>
                        </form>
                    </div>


                    <div>
                        <canvas id="grafReg"></canvas>
                    </div>
                    <button type="button" class="btn btn-dark btn-block"  id="btnCorrReg" onclick="validacaoCorrRegr()">Calcular</button>
                </div>

                <div id="entrada" style= "display:none;">
                    <form id="formulario" >
                        <div class="form-group">
                            <label class="control-label" for="txtDados"><strong>Dados</strong></label>
                            <textarea type="text" class="form-control" name="txtDados" id="txtDados" placeholder="Use ; para separar os dados."></textarea>
                            <input type="file" class="form-control-file border" accept=".csv , .txt">
                        </div>

                        <div class="form-group">
                            <label for="selTipoPesq"><strong>Tipo de Pesquisa</strong></label>
                            <select class="form-control" id="selTipoPesq">
                                <option value="POP" selected="selected">População</option>
                                <option value="AMS">Amostra</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label class="control-label" for="txtNomeVar"><strong>Nome da Variável Pesquisada</strong></label>
                            <input type="text" class="form-control" name="txtNomeVar" id="txtNomeVar">
                        </div>
                        <div class="form-group">
                            <label class="control-label" for="txtNomeFi"><strong>Nome da Fi</strong></label>
                            <input class="form-control" type="text" name="txtNomeFi" id="txtNomeFi">
                        </div>

                        <div class="form-group">
                            <label for="selTipoVar"><strong>Tipo de Variável</strong></label>
                            <select class="form-control" id="selTipoVar">
                                <option value="DSC" onclick="desabilitarOrdem()" selected="selected">Quantitativa Discreta</option>
                                <option value="CNT" onclick="desabilitarOrdem()">Quantitativa Contínua</option>
                                <option value="ORD" onclick="habilitarOrdem()">Qualitativa Ordinal</option>
                                <option value="NML" onclick="desabilitarOrdem()">Qualitativa Nominal</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label class="control-label" for="txtOrdem"><strong>Ordem</strong></label>
                            <input type="text" class="form-control" name="txtOrdem" id="txtOrdem" placeholder="Use ; para separar os dados." disabled>
                        </div>

                        <div class="form-group">
                            <label class="control-label"><strong>Medidas Separatrizes:</strong></label>
                            <label for="rangeSepa" class="control-label" id="labelRange">Q0</label>
                            <select class="form-control" id="selSepa">
                                <option value="Q" onclick="clickQuartil()" selected="selected">Quartil</option>
                                <option value="K" onclick="clickQuintil()">Quintil</option>
                                <option value="D" onclick="clickDecil()">Decil</option>
                                <option value="P" onclick="clickPorcentil()">Porcentil</option>
                            </select>
                        </div>

                        <input type="range" class="form-control-range" min="0" max="100" step="25" value="0" id="rangeSepa" onchange="changeSlider()">
                        <div style= "margin-top: 20px;">
                            <button type="button" class="btn btn-dark btn-block" name="btnMain" id="btnMain" onclick="calcularDescritivas()">Calcular</button>
                        </div>

                    </form>
                </div>

                <div id="saida" style= "display:none;">
                    <div class="table-responsive" id="dTabela">
                        <table id="tabela" class="table table-dark table-striped">
                        </table>
                    </div>

                    <div class="grafh-container" style= "margin-top: 40px;">
                        <canvas id="grafico"></canvas>
                    </div>

                    <div id="medEst" style= "margin-top: 40px;">
                        <div id="dDSC" style= "display:none;">
                            <div class="row" style= "margin-top: 20px;">
                                <div class="col-sm-4 ">
                                    <h3>Média</h3>
                                    <label id="labelDSC1"></label>
                                </div>
                                <div class="col-sm-4">
                                    <h3>Mediana</h3>
                                    <label id="labelDSC2"></label>
                                </div>
                                <div class="col-sm-4 ">
                                    <h3>Moda</h3>
                                    <label id="labelDSC3"></label>
                                </div>
                            </div>
                            <div class="row" style= "margin-top: 20px;">
                                <div class="col-sm-4 ">
                                    <h3>Desvio Padrão</h3>
                                    <label id="labelDSC4"></label>
                                </div>
                                <div class="col-sm-4 ">
                                    <h3>Coeficiente De Variação</h3>
                                    <label id="labelDSC5"></label>
                                </div>
                                <div class="col-sm-4 ">
                                    <h3>Medidas Separatrizes</h3>
                                    <label id="labelMedSepaDSC"></label>
                                </div>
                            </div>
                        </div>

                        <div id="dCNT" style= "display: none;" >
                            <div class="row" style= "margin-top: 20px;">
                                <div class="col-sm-4 ">
                                    <h3>Média</h3>
                                    <label id="labelCNT1"></label>
                                </div>
                                <div class="col-sm-4">
                                    <h3>Mediana</h3>
                                    <label id="labelCNT2"></label>
                                </div>
                                <div class="col-sm-4 ">
                                    <h3>Moda Convencional</h3>
                                    <label id="labelCNT3"></label>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-sm-4 ">
                                    <h3>Moda Pearson</h3>
                                    <label id="labelCNT4"></label>
                                </div>
                                <div class="col-sm-4 ">
                                    <h3>Moda King</h3>
                                    <label id="labelCNT5"></label>
                                </div>
                                <div class="col-sm-4 ">
                                    <h3>Moda Czuber</h3>
                                    <label id="labelCNT6"></label>
                                </div>
                            </div>

                            <div class="row" style= "margin-top: 20px;">
                                <div class="col-sm-4 ">
                                    <h3>Desvio Padrão</h3>
                                    <label id="labelCNT7"></label>
                                </div>
                                <div class="col-sm-4 ">
                                    <h3>Coeficiente De Variação</h3>
                                    <label id="labelCNT8"></label>
                                </div>
                                <div class="col-sm-4 ">
                                    <h3>Medidas Separatrizes</h3>
                                    <label id="labelMedSepaCNT"></label>
                                </div>
                            </div>
                        </div>
                        <div id="medSep"></div>
                    </div>

                    <button type="button" class="btn btn-dark btn-block" data-toggle="modal" data-target="#myModal" onclick="checarVariavel()">Probabilidades</button>
                    <!-- The Modal -->
                    <div class="modal" id="myModal">
                        <div class="modal-dialog">
                            <div class="modal-content">

                                <div class="modal-header">
                                    <h4 class="modal-title"><strong>Probabilidades</strong></h4>
                                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                                </div>

                                <div class="modal-body" >
                                    <form id="formularioDist">
                                        <label id="labelTipoDist" class="control-label"></label>
                                        <div class="form-group" id="dSelDist" style= "display: none;">
                                            <label class="control-label">Tipo de Distribuição</label>
                                            <select class="form-control" id="selTipoDist">
                                                <option value="DN" onclick="clickNormal()">Distribuição Normal</option>
                                                <option value="DU" onclick="clickUniforme()">Distribuição Uniforme</option>
                                            </select>
                                        </div>

                                        <div id="dBinomial" style= "display: none;">
                                            <div class="form-group">
                                                <label class="control-label" for="txtN">N:</label>
                                                <input type="text" class="form-control"  name="txtN" id="txtN">
                                            </div>
                                            <div class="form-group">
                                                <label class="control-label" for="txtK">K:</label>
                                                <input type="text" class="form-control" placeholder="Use ; para separar os dados." name="txtK" id="txtK">
                                            </div>
                                            <div class="form-group">
                                                <label class="control-label" for="txtP">P:</label>
                                                <input type="text" class="form-control"  name="txtP" id="txtP">
                                            </div>
                                            <div class="form-group">
                                                <label class="control-label" for="txtQ">Q:</label>
                                                <input type="text" class="form-control"  name="txtQ" id="txtQ">
                                            </div>
                                        </div>

                                        <div id="dNormal" style= "display: none;">
                                            <div class="form-group">
                                                <label class="control-label" for="txtNTrans">Número a ser Transformado</label>
                                                <input type="text" class="form-control" name="txtNTrans" id="txtNTrans" placeholder="Use ; para separar os dados.">
                                            </div>
                                            <div class="form-group" >
                                                <label class="control-label">Opção</label>
                                                <select class="form-control" id="selOPNormal">
                                                    <option value="entre">Entre</option>
                                                    <option value="maiorQ">Maior Que</option>
                                                    <option value="menorQ">Menor Que</option>
                                                </select>
                                            </div>
                                        </div>

                                        <div id="dUniforme" style= "display: none;">
                                            <div class="form-group">
                                                <label class="control-label" for="txtNIntervalo">Números do Intervalo </label>
                                                <input type="text" class="form-control" name="txtNIntervalo" id="txtNIntervalo" placeholder="Use ; para separar os dados.">
                                            </div>
                                            <div class="form-group" >
                                                <label class="control-label">Opção</label>
                                                <select class="form-control" id="selOPUniforme">
                                                    <option value="entre">Entre</option>
                                                    <option value="maiorQ">Maior Que</option>
                                                    <option value="menorQ">Menor Que</option>
                                                    <option value="deAte">De Até</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div id="saidaDist" style= "display: none;">
                                            <label class="control-label">Probabilidade</label>
                                            <label class="control-label" id="probResp"></label>
                                            <span class="d-block" id="mediaDU"></span>
                                            <span class="d-block" id="desvioDU"></span>
                                            <span class="d-block" id="CoefDU"></span>
                                        </div>
                                    </form>
                                </div>

                                <div class="modal-footer">
                                    <button type="button" class="btn btn-dark" id="calcDist" onclick="validacaoDist()" disabled>Calcular</button>
                                    <button type="button" class="btn btn-dark" data-dismiss="modal" onclick="limparSaida()" >Sair</button>
                                </div>

                            </div>
                        </div>

                    </div>
                </div>
                <div class="col-sm-2"></div>
            </div>
        </div>


        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
        <script src="javascript/bootstrap.min.js"></script>
    </body>
    </html>
